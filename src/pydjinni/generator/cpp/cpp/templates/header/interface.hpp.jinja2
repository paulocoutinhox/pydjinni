{% extends "base.jinja2" %}

{% block header %}
#pragma once
#include <memory>
{% if type_def.properties|length > 0 %}
#include "pydjinni/property.hpp"
{% endif %}
{% endblock %}

{% block content %}
{% if type_def.comment %}
{{ type_def.cpp.comment }}
{% endif %}
class {{ type_def.cpp.name }} {
public:
{% for method in type_def.methods %}
    {% if method.comment %}
    {{ method.cpp.comment | indent(4) }}
    {% endif %}
    {{ method.cpp.attribute }} {{ method.cpp.type_spec }} {{ method.cpp.name }}(
    {%- for parameter in method.parameters -%}
        {{ parameter.cpp.type_spec }} {{ parameter.cpp.name ~ (", " if not loop.last) }}
    {%- endfor -%}
    ){{ " const" if method.const }}{{ " = 0" if not method.static }};
{% endfor %}
{% if type_def.properties|length > 0 %}
{% for property in type_def.properties %}
    pydjinni::{{ "ReadOnly" if property.readonly }}Property<{{ property.cpp.type_spec }}>& {{ property.cpp.getter }}() {
        return _{{ property.cpp.name }};
    }
{% endfor %}
protected:
{% for property in type_def.properties %}
    pydjinni::Property<{{ property.cpp.type_spec }}> _{{ property.cpp.name }};
{% endfor %}
{% endif %}
};
{% endblock %}
